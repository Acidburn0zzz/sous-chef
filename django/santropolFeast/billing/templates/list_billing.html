{% extends "base_billing.html" %}
{% load i18n %}
{% load static %}

{% block title %}{% trans 'Billing' %}{% endblock %}
{% block content %}
<div class="ui secondary pointing fluid menu">
  <h2 class="ui header">{% trans 'Billing' %}</h2>
</div>
<div class="ui mobile reversed equal width grid">
  <div class="fourteen wide column">

    <form action="" method="get" class="ui form">

      <div class="inline fields">

        <div class="field">
          <label>Client Name</label>
          <div class="field">
            <div class="ui large left icon input">
              <i class="users icon"></i>
              {{ filter.form.name }}
            </div>
          </div>
        </div>

        <div class="field">
          <label>Billing Period</label>
          <div class="field">
            <div class="ui large left icon input">
              <i class="calendar icon"></i>
              {{filter.form.date}}
            </div>
          </div>
        </div>

        <div class="field">
            <a href="{% url 'billing:list' %}" class="ui button">Reset</a>
            <button class="ui yellow button" type="submit">Search</button>
        </div>

      </div>
    </form>
  </div>
</div>

<table class="ui very basic stripped celled table">
  <thead>
    <tr>
      <th class="sorted descending">Name</th>
      <th class="">Price</th>
      <th class="">Billing Period</th>
      <th class="">Creation Date</th>
      <th class="">Billing Summary</th>
    </tr>
  </thead>
  <tbody>
    {% for obj in billing %}
    <tr>
      <td><a href="{% url 'member:client_information' pk=obj.client.id %}">{{ obj.client.member }}</a></td>
      <td>{{obj.total_amount}}</td>
      <td>{{obj.billing_year}}/{{obj.billing_month}}</td>
      <td>{{obj.created_date}}</td>
      <td><a class="ui blue icon button" href="{% url 'billing:view' pk=obj.id %}"><i class="unhide icon"></i></a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
